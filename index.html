<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>涂鸦板</title>
		<script src="js/atrament.min.js"></script>
		<link rel="stylesheet" type="text/css" href="css/main.css">
	</head>
	<body>
		<form>
			<button id="clear" onclick="event.preventDefault(); atrament.clear();">清除</button><br>
			<label>笔迹</label><br>
			<input type="range" min="1" max="40" oninput="atrament.weight = parseFloat(event.target.value);" value="2" step="0.1" autocomplete="off"/><br>
			<label>平滑</label><br>
			<input type="checkbox" onchange="atrament.smoothing = event.target.checked;" checked autocomplete="off"><br>
			<!--<label>Adaptive stroke</label><br>
			<input type="checkbox" onchange="atrament.adaptiveStroke = event.target.checked;" checked autocomplete="off"><br>-->
			<label>类型</label>
			<select onchange="atrament.mode = event.target.value;">
				<option value="draw" default>书写</option>
				<option value="fill" default>填充</option>
				<option value="erase" default>擦除</option>
			</select><br>
			<label>调色</label>
			<input type="color" onchange="atrament.color = event.target.value;" value="#000000" autocomplete="off"><br>
			<label>不透明度</label><br>
			<input type="range" min="0" max="1" onchange="atrament.opacity = parseFloat(event.target.value);" value="1" step="0.05" autocomplete="off">
		</form>
		<canvas id="sketcher"></canvas>
	</body>
	<script>
		var canvas = document.getElementById('sketcher');
		var atrament = atrament(canvas, window.innerWidth, window.innerHeight);

		var clearButton = document.getElementById('clear');
		canvas.addEventListener('dirty', function(e) {
			clearButton.style.display = atrament.dirty ? 'inline-block' : 'none';
		});
	</script>
</html>